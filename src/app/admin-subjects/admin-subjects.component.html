<div class="panel panel-default">
  <div class="panel-heading">
    Gestion des matières
  </div>
  <div class="panel-body">
    <div>
      <button class="btn btn-success" (click)="onNewCat()">
        <span class="glyphicon glyphicon-plus"></span>
      </button>
    </div>
    <p></p>
    <div *ngIf="mode=='new-cat'" class="col-md-6">
      <form #f="ngForm" (ngSubmit)="onSaveCat(f.value)">
        <div class="form-group">
<!--          <label class="control-label">Matière</label>
          <label>
            <input type="text" name="name" ngModel="" class="form-control">
          </label>-->
          <h4>Matière</h4>
          <mat-form-field class="example-full-width">
            <input type="text" name="name" ngModel=""  matInput placeholder="Matière" value="Sushi">
          </mat-form-field>

        </div>
        <div class="form-group">
          <mat-form-field>
            <mat-label>Classe</mat-label>
            <select matNativeControl [(ngModel)]="selectedLevel" name="id">
              <option *ngFor="let level of levels" [value]="level.id">
                {{level.name}}
              </option>
            </select>
          </mat-form-field>
          <p> Selected Class: {{selectedLevel}} </p>
<!--
          <label class="control-label">Classe</label>
          <label>
            <input type="text" name="name" ngModel="" class="form-control">
          </label>
          <mat-form-field>
          <mat-label>Classe</mat-label>
          <select matNativeControl [(ngModel)]="selectedLevel" name="level">
            <option *ngFor="let level of levels" [value]="level.name">
              {{level.name}}
            </option>
          </select>
          </mat-form-field>
          <p> Selected Class: {{selectedLevel}} </p>
          -->
        </div>
        <button class="btn btn-success" type="submit">Save</button>

      </form>
      <!--<form>
        <h4>Matière</h4>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Matière" value="Sushi">
          </mat-form-field>

        <h4>Select Classe</h4>
        <mat-form-field>
          <mat-label>Classe</mat-label>
          <select matNativeControl [(ngModel)]="selectedCar" name="car">
            <option value="" selected></option>
            <option *ngFor="let car of cars" [value]="car.value">
              {{car.viewValue}}
            </option>
          </select>
        </mat-form-field>
        <p> Selected car: {{selectedCar}} </p>
      </form>-->

    </div>
    <div *ngIf="mode=='edit-cat'" class="col-md-6">
      <form #f="ngForm" (ngSubmit)="onUpdateCat(f.value)">
        <div class="form-group">
          <label class="control-label">Name</label>
          <label>
            <input type="text" name="name" ngModel="" class="form-control" [(ngModel)]="currentsubject.name">
          </label>
        </div>
        <div class="form-group">
          <mat-form-field>
            <mat-label>Classe</mat-label>
            <select matNativeControl [(ngModel)]="selectedLevel" name="id">
              <option *ngFor="let level of levels" [value]="level.id">
                {{level.name}}
              </option>
            </select>
          </mat-form-field>
          <p> Selected Class: {{selectedLevel}} </p>
        </div>
        <button class="btn btn-success" type="submit">Save</button>

      </form>
    </div>
    <div *ngIf="mode=='list'">
      <table class="table" *ngIf="subjects">
        <tr>
          <th>Level</th>
          <th>subjects</th>
          <th>Actions</th>
        </tr>
        <tr *ngFor="let c of subjects">
          <td>{{c.level.name}}</td>
          <td>{{c.name}}</td>

          <td>
            <button class="btn btn-danger" (click)="onDeleteCat(c)">
              <span class="glyphicon glyphicon-remove"></span>
            </button>
          </td>
          <td>
            <button class="btn btn-danger" (click)="onEditCat(c)">
              <span class="glyphicon glyphicon-edit"></span>
            </button>
          </td>
        </tr>
      </table>
    </div>

    <div *ngIf="mode=='subjectsAd'">
      <table class="table" *ngIf="subjectsAd">
        <tr>
          <th>Description</th>
          <th>Name</th>
          <th>Actions</th>
        </tr>
        <tr *ngFor="let sub of subjectsAd">
          <td>{{sub.description}}</td>
          <td>{{sub.name}}</td>

          <td>
            <button class="btn btn-danger" (click)="onDeleteCat(sub)">
              <span class="glyphicon glyphicon-remove"></span>
            </button>
          </td>
          <td>
            <button class="btn btn-danger" (click)="onEditCat(sub)">
              <span class="glyphicon glyphicon-edit"></span>
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>
